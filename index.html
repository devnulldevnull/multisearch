<!DOCTYPE html>
<html>
<head>
    <title>Multi Search</title>
    <style type="text/css">
        code{background:#F8F8FF; border:black dashed 1px; padding:6px}â€‹
    </style>
</head>
<body>
<div id="popups"></div>    
To use the multi search, append URL parameters to the end like so:
<br><br>
<code>
    https://multisearchtabs.github.io/?search1=Hello&amp;search2=There
</code>

<script type="text/javascript">
    window.onload = function(e){
        if (window.location.search == "") {
            var newWin = window.open('poptest.html');

            if (!newWin || newWin.closed || typeof newWin.closed == 'undefined'){ 
                document.getElementById("popups").innerHTML = "<strong>You must enable popups for this page</strong>";
            }
            return;
        }

        var parts = window.location.search.substr(1).split("&");
        var get = [];
        for (var i = 0; i < parts.length; i++) {
            var temp = parts[i].split("=");
            if (typeof temp[1] != 'undefined') {
                get.push(decodeURIComponent(temp[1]));
            }
        }

        shuffleArray(get);
        
        get.forEach(function(item) {
            window.open("https://www.google.com/search?q=" + item);
        });
    }

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            let j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }
</script>
</body>
</html>
